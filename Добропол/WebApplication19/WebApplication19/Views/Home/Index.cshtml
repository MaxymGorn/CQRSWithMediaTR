@using  WebApplication19.ViewModel
@model ViewModel
@{
    ViewBag.Title = "Home Page";
}

<html data-wf-domain="qmate-form.webflow.io" data-wf-page="5eb44229a10ed66a7754278f" data-wf-site="5eb44229a10ed6956f54278e" data-wf-status="1">

<head>
    <meta charset="utf-8" />
    <title>qmate form</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Webflow" name="generator" />
    <link rel="stylesheet" href="~/Css/src/css/vanilla-calendar-min.css" />
    <script src="~/Css/src/js/vanilla-calendar-min.js"  type="text/javascript"></script>
    <link href="https://uploads-ssl.webflow.com/5eb44229a10ed6956f54278e/css/qmate-form.webflow.dd55b1db5.css" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script type="text/javascript">

        WebFont.load({
            google: {
                families: ["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic"]
            }
        });
    </script>
    <!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif]-->
    <script type="text/javascript">
        ! function (o, c) {
            var n = c.documentElement,
                t = " w-mod-";
            n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
        }(window, document);
    </script>
    <link href="https://uploads-ssl.webflow.com/img/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link href="https://uploads-ssl.webflow.com/img/webclip.png" rel="apple-touch-icon" />
</head>

<body>
    <div class="section">
        <div class="div-block-6">
            <div data-w-id="00ba985c-b94a-9ee9-fb07-99c2342e0621" data-animation-type="lottie" data-src="https://uploads-ssl.webflow.com/5eb44229a10ed6956f54278e/5eb5135fa982c3713ba15e37_lf30_editor_kqWaGK.json" data-loop="1" data-direction="1" data-autoplay="1" data-is-ix2-target="0" data-renderer="svg" data-default-duration="6.3" data-duration="80" class="lottie-animation-2"></div>
        </div>
        <div class="container w-container">
            <img src="https://uploads-ssl.webflow.com/5eb44229a10ed6956f54278e/5eb524e7bde4bb61e1ab6dcb_Group.svg" width="200" alt="" class="image" />
            <div class="form-block w-form">
                <form id="wf-form-Reg_form" name="wf-form-Reg_form" data-name="Reg_form" class="form">
                    <div class="columns w-row">
                        <div class="column w-col w-col-6">
                            <label for="name-2" class="field-label">Тема звернення:</label>
                            <select id="field" name="field" required="" class="select-field-2 w-select">
                                <option value=""></option>
                                @foreach (var elem in Model.retrieveJobList_Results)
                                {
                                    <option value="@Html.DisplayFor(mod=>elem.nameUkr)"> @Html.DisplayFor(mod => elem.nameUkr);</option>
                                }
                            </select>
                            <label for="name-4" class="name_field">Ім&#x27;я:</label>
                            <input type="text" class="text-field w-input" maxlength="256" name="name" data-name="Name" placeholder="" id="name" required="" />
                            <label for="name-2" class="field-label">Прізвище:</label>
                            <input type="text" class="text-field-2 w-input" maxlength="256" name="name-2" data-name="Name 2" placeholder="" id="surname" required="" />
                            <label for="name" class="field-label">По батькові (за наявності):</label>
                            <input type="text" class="text-field-3 w-input" maxlength="256" name="name-3" data-name="Name 3" placeholder="" id="lastsurname" required="" />
                            <label for="email-2" class="field-label-2">Телефон:</label>
                            <input type="tel" class="text-field-4 w-input" maxlength="256" name="email" data-name="Email" placeholder="" id="number" required="" />
                            <label for="email" class="field-label-2">Email:</label>
                            <input type="email" class="text-field-5 w-input" maxlength="256" name="email-2" data-name="Email 2" placeholder="" id="email" required="" />
                        </div>
                        <div class="w-col w-col-6">
                            <div class="date_headind">Оберіть дату візиту:</div>
                            <div class="content">
                                <div id="myCalendar" class="vanilla-calendar" style="margin-bottom: 20px"></div>
                            </div>

                            <script>
                                    let pastDates = true,
                                        availableDates = false,
                                        availableWeekDays = false
                                    let calendar = new VanillaCalendar({
                                        selector: "#myCalendar",
                                        months: ["Січень", "Лютий", "Березень", "Квітень", "Травень", "Червень", "Липень", "Серпень", " Вересень", "Жовтень", "Листопад", " Грудень"],
                                        shortWeekday: ['Нд', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],
                                        onSelect: (data, elem) => {
                                            var el = (Object.values(data));
                                            var date;
                                            date = new Date(el[0]);
                                            date = date.getUTCFullYear() + '-' +
                                                ('00' + (date.getUTCMonth() + 1)).slice(-2) + '-' +
                                                ('00' + date.getUTCDate()).slice(-2) + ' ' +
                                                ('00') + ':' +
                                                ('00') + ':' +
                                                ('00');
                                            var formData = new FormData();
                                            formData.append("date", date);
                                            var selectedText = $("#field option:selected").html();
                                            formData.append("job", selectedText);
                                            $.ajax({
                                                url: '@Url.Action("SetWorkTime")',
                                                type: 'GET',
                                                cache: false,
                                                data: { date: date, job: selectedText}
                                            }).done(function(result) {
                                                $('#Time').html(result);
                                            });
                                        }
                                    })
                            </script>
                                <div class="text-block">Оберіть час візиту:</div>
                                <select id="Time" name="Time" data-name="Time" required="" class="select-field w-select">
                                    <option value=""></option>
                                </select>
                                <div class="div-block-2">
                                    <input type="submit" id="SentData" value="Відправити" data-wait="Хвилинку..." class="submit-button w-button" />
                                </div>
                            </div>
                    </div>
                </form>
                <div class="success-message w-form-done">
                    <div class="div-block-7">
                        <h1 class="heading">Дякуємо!</h1>
                        <div class="text-block-3">Ваші дані отримані та внесені у реєстр.</div>
                        <div class="div-block-5">
                            <div data-w-id="20394242-1bb6-0055-1368-814e70ce4a6b" data-animation-type="lottie" data-src="https://uploads-ssl.webflow.com/5eb44229a10ed6956f54278e/5eb509367b732d68e730a4e3_lf30_editor_iad08J.json" data-loop="0" data-direction="1" data-autoplay="0" data-is-ix2-target="1" data-renderer="svg" data-default-duration="2" data-duration="3" data-ix2-initial-state="0" class="lottie-animation"></div>
                        </div>
                    </div>
                </div>
                <div class="w-form-fail">
                    <div>Упс! Щось пішло не так.</div>
                </div>
            </div>
        </div>
    </div>
    <script src="~/Js/main.js"></script>
    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js?site=5eb44229a10ed6956f54278e" type="text/javascript" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://uploads-ssl.webflow.com/5eb44229a10ed6956f54278e/js/webflow.31de92514.js" type="text/javascript"></script>
    <!--[if lte IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]-->
</body>

</html>
